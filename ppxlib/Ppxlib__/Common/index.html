<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Common (ppxlib.Ppxlib__.Common)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ppxlib</a> &#x00BB; <a href="../index.html">Ppxlib__</a> &#x00BB; Common</nav><h1>Module <code>Ppxlib__.Common</code></h1></header><dl><dt class="spec value" id="val-lident"><a href="#val-lident" class="anchor"></a><code><span class="keyword">val</span> lident : <a href="../index.html#module-Import">Ppxlib__.Import</a>.string <span>&#45;&gt;</span> <a href="../../Ppxlib/Longident/index.html#type-t">Ppxlib.Longident.t</a></code></dt><dt class="spec value" id="val-core_type_of_type_declaration"><a href="#val-core_type_of_type_declaration" class="anchor"></a><code><span class="keyword">val</span> core_type_of_type_declaration : <a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <span>&#45;&gt;</span> <a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a></code></dt><dt class="spec value" id="val-name_type_params_in_td"><a href="#val-name_type_params_in_td" class="anchor"></a><code><span class="keyword">val</span> name_type_params_in_td : <a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <span>&#45;&gt;</span> <a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a></code></dt><dt class="spec value" id="val-combinator_type_of_type_declaration"><a href="#val-combinator_type_of_type_declaration" class="anchor"></a><code><span class="keyword">val</span> combinator_type_of_type_declaration : <a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <span>&#45;&gt;</span> <span>f:<span>(<span>loc:<a href="../../Ppxlib/Location/index.html#type-t">Ppxlib.Location.t</a></span> <span>&#45;&gt;</span> <a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a> <span>&#45;&gt;</span> <a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a>)</span></span> <span>&#45;&gt;</span> <a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a></code></dt><dt class="spec value" id="val-gen_symbol"><a href="#val-gen_symbol" class="anchor"></a><code><span class="keyword">val</span> gen_symbol : <span>?&#8288;prefix:<a href="../index.html#module-Import">Ppxlib__.Import</a>.string</span> <span>&#45;&gt;</span> <a href="../index.html#module-Import">Ppxlib__.Import</a>.unit <span>&#45;&gt;</span> <a href="../index.html#module-Import">Ppxlib__.Import</a>.string</code></dt><dd><p><code>gen_symbol ?prefix ()</code> generates a fresh variable name with <code>prefix</code>.</p><dl><dt>parameter prefix</dt><dd><p>default = &quot;_x&quot;</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-string_of_core_type"><a href="#val-string_of_core_type" class="anchor"></a><code><span class="keyword">val</span> string_of_core_type : <a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a> <span>&#45;&gt;</span> <a href="../index.html#module-Import">Ppxlib__.Import</a>.string</code></dt><dt class="spec value" id="val-assert_no_attributes"><a href="#val-assert_no_attributes" class="anchor"></a><code><span class="keyword">val</span> assert_no_attributes : <a href="../Import/index.html#type-attributes">Ppxlib__.Import.attributes</a> <span>&#45;&gt;</span> <a href="../index.html#module-Import">Ppxlib__.Import</a>.unit</code></dt><dt class="spec value" id="val-assert_no_attributes_in"><a href="#val-assert_no_attributes_in" class="anchor"></a><code><span class="keyword">val</span> assert_no_attributes_in : <a href="../../Ppxlib/Ast_traverse/class-iter/index.html">Ppxlib.Ast_traverse.iter</a></code></dt><dt class="spec value" id="val-get_type_param_name"><a href="#val-get_type_param_name" class="anchor"></a><code><span class="keyword">val</span> get_type_param_name : <span>(<a href="../Import/index.html#type-core_type">Ppxlib__.Import.core_type</a> * <a href="../Import/index.html#type-variance">Ppxlib__.Import.variance</a>)</span> <span>&#45;&gt;</span> <span><a href="../index.html#module-Import">Ppxlib__.Import</a>.string <a href="../../Ppxlib/Loc/index.html#type-t">Ppxlib.Loc.t</a></span></code></dt><dd><p><code>get_tparam_id tp</code> </p><dl><dt>returns</dt><dd><p>the string identifier associated with <code>tp</code> if it is a type parameter.</p></dd></dl></dd></dl><dl><dt class="spec class" id="class-type_is_recursive"><a href="#class-type_is_recursive" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-type_is_recursive/index.html">type_is_recursive</a> : <a href="../Import/index.html#type-rec_flag">Ppxlib__.Import.rec_flag</a> <span>&#45;&gt;</span> <span><a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <a href="../index.html#module-Import">Ppxlib__.Import</a>.list</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p><code>(new type_is_recursive rec_flag tds)#go ()</code> returns whether <code>rec_flag, tds</code> is really a recursive type. We disregard recursive occurrences appearing in arrow types. You can override the search for certain type expressions by inheriting from this class.</p></dd></dl><dl><dt class="spec value" id="val-really_recursive"><a href="#val-really_recursive" class="anchor"></a><code><span class="keyword">val</span> really_recursive : <a href="../Import/index.html#type-rec_flag">Ppxlib__.Import.rec_flag</a> <span>&#45;&gt;</span> <span><a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <a href="../index.html#module-Import">Ppxlib__.Import</a>.list</span> <span>&#45;&gt;</span> <a href="../Import/index.html#type-rec_flag">Ppxlib__.Import.rec_flag</a></code></dt><dd><p><code>really_recursive rec_flag tds = (new type_is_recursive rec_flag tds)#go ()</code></p></dd></dl><dl><dt class="spec value" id="val-loc_of_payload"><a href="#val-loc_of_payload" class="anchor"></a><code><span class="keyword">val</span> loc_of_payload : <a href="../Import/index.html#type-attribute">Ppxlib__.Import.attribute</a> <span>&#45;&gt;</span> <a href="../../Ppxlib/Location/index.html#type-t">Ppxlib.Location.t</a></code></dt><dt class="spec value" id="val-loc_of_attribute"><a href="#val-loc_of_attribute" class="anchor"></a><code><span class="keyword">val</span> loc_of_attribute : <a href="../Import/index.html#type-attribute">Ppxlib__.Import.attribute</a> <span>&#45;&gt;</span> <a href="../../Ppxlib/Location/index.html#type-t">Ppxlib.Location.t</a></code></dt><dt class="spec value" id="val-curry_applications"><a href="#val-curry_applications" class="anchor"></a><code><span class="keyword">val</span> curry_applications : <a href="../Import/index.html#type-expression">Ppxlib__.Import.expression</a> <span>&#45;&gt;</span> <a href="../Import/index.html#type-expression">Ppxlib__.Import.expression</a></code></dt><dd><p>convert multi-arg function applications into a cascade of 1-arg applications</p></dd></dl><dl><dt class="spec value" id="val-attribute_of_warning"><a href="#val-attribute_of_warning" class="anchor"></a><code><span class="keyword">val</span> attribute_of_warning : <a href="../../Ppxlib/Location/index.html#type-t">Ppxlib.Location.t</a> <span>&#45;&gt;</span> <a href="../index.html#module-Import">Ppxlib__.Import</a>.string <span>&#45;&gt;</span> <a href="../Import/index.html#type-attribute">Ppxlib__.Import.attribute</a></code></dt><dd><p>Encode a warning message into an 'ocaml.ppwarning' attribute which can be inserted in a generated Parsetree. The compiler will be responsible for reporting the warning.</p></dd></dl><dl><dt class="spec value" id="val-is_polymorphic_variant"><a href="#val-is_polymorphic_variant" class="anchor"></a><code><span class="keyword">val</span> is_polymorphic_variant : <a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <span>&#45;&gt;</span> <span>sig_:<a href="../index.html#module-Import">Ppxlib__.Import</a>.bool</span> <span>&#45;&gt;</span> <span>[&gt; `Definitely <span>| `Maybe</span> <span>| `Surely_not</span> ]</span></code></dt><dt class="spec value" id="val-mk_named_sig"><a href="#val-mk_named_sig" class="anchor"></a><code><span class="keyword">val</span> mk_named_sig : <span>loc:<a href="../../Ppxlib/Location/index.html#type-t">Ppxlib.Location.t</a></span> <span>&#45;&gt;</span> <span>sg_name:<a href="../index.html#module-Import">Ppxlib__.Import</a>.string</span> <span>&#45;&gt;</span> <span>handle_polymorphic_variant:<a href="../index.html#module-Import">Ppxlib__.Import</a>.bool</span> <span>&#45;&gt;</span> <span><a href="../Import/index.html#type-type_declaration">Ppxlib__.Import.type_declaration</a> <a href="../index.html#module-Import">Ppxlib__.Import</a>.list</span> <span>&#45;&gt;</span> <span><a href="../Import/index.html#type-include_description">Ppxlib__.Import.include_description</a> <a href="../index.html#module-Import">Ppxlib__.Import</a>.option</span></code></dt><dd><p><code>mk_named_sig ~loc ~sg_name:&quot;Foo&quot; ~handle_polymorphic_variant tds</code> will generate</p><pre><code class="ml">include Foo (* or Foo1, Foo2, Foo3 *)
  with type (* ('a, 'b, 'c) *) t := (* ('a, 'b, 'c) *) t</code></pre><p>when:</p><ul><li>there is only one type declaration</li><li>the type is named t</li><li>there are less than 4 type parameters</li><li>there are no constraints on the type parameters</li></ul><p>It will take care of giving fresh names to unnamed type parameters.</p></dd></dl></div></body></html>